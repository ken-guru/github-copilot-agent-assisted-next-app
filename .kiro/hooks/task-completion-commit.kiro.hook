{
  "enabled": true,
  "name": "Task Completion Commit",
  "description": "Monitors spec task files for completed tasks and creates commits with related changed files and descriptive commit messages",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": [
      ".kiro/specs/**/tasks.md"
    ]
  },
  "then": {
    "type": "askAgent",
    "prompt": "A task has been marked as complete in a spec document. Please:\n\n1. Avoid using terminal commands that require the user to interact with the terminal window to finish or close a running command, instead use the integrated tools in Kiro for Git.\n2. Identify which specific task was completed by analyzing the changes in the tasks.md file\n3. Find all related files that were changed as part of implementing this task\n4. Create a git commit that includes:\n   - All the related changed files for this task implementation\n   - A descriptive commit message that references the completed task\n   - The commit message should follow the format: \"Complete task: [brief task description]\" followed by more details if needed\n\nPlease analyze the task file changes, identify the completed task, gather the related implementation files, and create an appropriate commit."
  }
}